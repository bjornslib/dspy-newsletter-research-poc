{
  "scenario": "security_skill_critical_block",
  "description": "Security skill finds critical issue and blocks further processing",
  "skill": "codebase-quality:security",
  "input": {
    "changed_files": [
      "agencheck-support-agent/config.py",
      "agencheck-support-agent/.env.example"
    ]
  },
  "result": {
    "status": "block",
    "critical_issues": 1,
    "high_issues": 1,
    "moderate_issues": 0,
    "low_issues": 0,
    "checks_performed": {
      "secrets_detection": {
        "status": "fail",
        "findings": 1,
        "details": [
          {
            "id": "C001",
            "severity": "critical",
            "type": "exposed_api_key",
            "file": "agencheck-support-agent/config.py",
            "line": 45,
            "pattern": "OpenAI API Key",
            "action": "Remove, rotate key, use env var"
          }
        ]
      },
      "dependency_vulnerabilities": {"status": "pass", "findings": 0},
      "injection_risks": {"status": "pass", "findings": 0},
      "auth_checks": {"status": "pass", "findings": 0}
    },
    "should_continue": false,
    "blocked_by": "critical_security_issue",
    "next_skill": null
  }
}
