[
  {
    "id": "F114",
    "task_master_id": "114",
    "description": "Update Static Country List - Replace hardcoded 24 countries with 83 cleaned countries from database",
    "steps": [
      "Replace AVAILABLE_COUNTRIES with BROWSE_MODE_COUNTRIES (83 countries)",
      "Ensure alphabetical sorting",
      "Verify no duplicates or excluded entries"
    ],
    "passes": true,
    "scope": {
      "files": ["agencheck-support-frontend/app/university-contacts/components/UniversitySearchContainer.tsx"],
      "lines": "82-166"
    },
    "validation": {
      "type": "unit",
      "command": "cd agencheck-support-frontend && npm run build",
      "expected": "Build passes, 83 countries in array"
    },
    "worker_type": "frontend-dev-expert",
    "dependencies": []
  },
  {
    "id": "F115",
    "task_master_id": "115",
    "description": "Implement Country Name Normalization Function - Normalize DB names and exclude non-country entries",
    "steps": [
      "Create normalizeCountryName function with Record<string, string> mappings",
      "Add 7 normalization mappings (Korea → South Korea, etc.)",
      "Add 5 exclusion patterns (Global, International, Online, /, Centralized)"
    ],
    "passes": true,
    "scope": {
      "files": ["agencheck-support-frontend/app/university-contacts/components/UniversitySearchContainer.tsx"],
      "lines": "52-76"
    },
    "validation": {
      "type": "unit",
      "command": "cd agencheck-support-frontend && npm run build",
      "expected": "Build passes, function correctly normalizes and excludes"
    },
    "worker_type": "frontend-dev-expert",
    "dependencies": ["F114"]
  },
  {
    "id": "F116",
    "task_master_id": "116",
    "description": "Implement Dynamic Country Extraction - useMemo hook to extract countries from search results",
    "steps": [
      "Create searchModeCountries useMemo",
      "Use Set for unique extraction",
      "Sort alphabetically and return array"
    ],
    "passes": true,
    "scope": {
      "files": ["agencheck-support-frontend/app/university-contacts/components/UniversitySearchContainer.tsx"],
      "lines": "231-248"
    },
    "validation": {
      "type": "unit",
      "command": "cd agencheck-support-frontend && npm run build",
      "expected": "Build passes, dynamic extraction works"
    },
    "worker_type": "frontend-dev-expert",
    "dependencies": ["F114", "F115"]
  },
  {
    "id": "F117",
    "task_master_id": "117",
    "description": "Compute Available Countries Based on Mode - useMemo for mode-aware country list",
    "steps": [
      "Create availableCountries useMemo",
      "Return dynamic list when search mode + null filter",
      "Return full static list otherwise"
    ],
    "passes": true,
    "scope": {
      "files": ["agencheck-support-frontend/app/university-contacts/components/UniversitySearchContainer.tsx"],
      "lines": "250-258"
    },
    "validation": {
      "type": "unit",
      "command": "cd agencheck-support-frontend && npm run build",
      "expected": "Build passes, correct list returned per mode"
    },
    "worker_type": "frontend-dev-expert",
    "dependencies": ["F114", "F116"]
  },
  {
    "id": "F118",
    "task_master_id": "118",
    "description": "Implement Mode Transition Logic - Handle country persistence across browse ↔ search",
    "steps": [
      "Add useEffect for mode transition validation",
      "Auto-clear country if not in search results",
      "Persist country when transitioning to browse"
    ],
    "passes": true,
    "scope": {
      "files": ["agencheck-support-frontend/app/university-contacts/components/UniversitySearchContainer.tsx"],
      "lines": "260-269"
    },
    "validation": {
      "type": "browser",
      "command": "Manual: Test mode transitions with country selected",
      "expected": "Country persists or auto-clears appropriately"
    },
    "worker_type": "frontend-dev-expert",
    "dependencies": ["F114", "F116", "F117"]
  },
  {
    "id": "F119",
    "task_master_id": "119",
    "description": "Update UniversitySearchControls Integration - Wire availableCountries into dropdown",
    "steps": [
      "Pass availableCountries prop to UniversitySearchControls",
      "Verify onCountryChange triggers correctly",
      "Maintain URL param updates"
    ],
    "passes": true,
    "scope": {
      "files": [
        "agencheck-support-frontend/app/university-contacts/components/UniversitySearchContainer.tsx",
        "agencheck-support-frontend/app/university-contacts/components/UniversitySearchControls.tsx"
      ],
      "lines": "304"
    },
    "validation": {
      "type": "browser",
      "command": "Manual: Verify dropdown shows correct countries in each mode",
      "expected": "Dropdown displays mode-appropriate countries"
    },
    "worker_type": "frontend-dev-expert",
    "dependencies": ["F117"]
  },
  {
    "id": "F120-F123",
    "task_master_id": "120-123",
    "description": "Testing & Verification Bundle - Infinite scroll updates, edge cases, unit tests, E2E tests",
    "steps": [
      "Verify infinite scroll updates country list",
      "Handle empty/NULL countries correctly",
      "Add unit tests for normalization and extraction",
      "Add E2E tests for all acceptance criteria",
      "Manual verification across browsers"
    ],
    "passes": false,
    "scope": {
      "files": [
        "agencheck-support-frontend/app/university-contacts/components/UniversitySearchContainer.tsx",
        "agencheck-support-frontend/__tests__/"
      ]
    },
    "validation": {
      "type": "unit",
      "command": "cd agencheck-support-frontend && npm run build && npm run lint",
      "expected": "All tests pass, build succeeds, lint clean"
    },
    "worker_type": "frontend-dev-expert",
    "dependencies": ["F114", "F115", "F116", "F117", "F118", "F119"]
  }
]
